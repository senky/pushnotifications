(function(){var h,k="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},l="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function n(){n=function(){};l.Symbol||(l.Symbol=p)}var q=0;function p(a){return"jscomp_symbol_"+(a||"")+q++}
function r(){n();var a=l.Symbol.iterator;a||(a=l.Symbol.iterator=l.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&k(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return u(this)}});r=function(){}}function u(a){var b=0;return v(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function v(a){r();a={next:a};a[l.Symbol.iterator]=function(){return this};return a}function w(a){r();n();r();var b=a[Symbol.iterator];return b?b.call(a):u(a)}
function x(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}var y=window.Element.prototype,z=y.matches||y.matchesSelector||y.webkitMatchesSelector||y.mozMatchesSelector||y.msMatchesSelector||y.oMatchesSelector;function A(a,b){if(a&&1==a.nodeType&&b){if("string"==typeof b||1==b.nodeType)return a==b||B(a,b);if("length"in b)for(var c=0,d;d=b[c];c++)if(a==d||B(a,d))return!0}return!1}
function B(a,b){if("string"!=typeof b)return!1;if(z)return z.call(a,b);b=a.parentNode.querySelectorAll(b);for(var c=0,d;d=b[c];c++)if(d==a)return!0;return!1}function C(a){for(var b=[];a&&a.parentNode&&1==a.parentNode.nodeType;)a=a.parentNode,b.push(a);return b}
function D(a,b,c){function d(a){var d;if(g.composed&&"function"==typeof a.composedPath)for(var e=a.composedPath(),f=0,t;t=e[f];f++)1==t.nodeType&&A(t,b)&&(d=t);else a:{if((d=a.target)&&1==d.nodeType&&b)for(d=[d].concat(C(d)),e=0;f=d[e];e++)if(A(f,b)){d=f;break a}d=void 0}d&&c.call(d,a,d)}var e=document,g={composed:!0,v:!0},g=void 0===g?{}:g;e.addEventListener(a,d,g.v);return{j:function(){e.removeEventListener(a,d,g.v)}}}
function ba(a){var b={};if(!a||1!=a.nodeType)return b;a=a.attributes;if(!a.length)return{};for(var c=0,d;d=a[c];c++)b[d.name]=d.value;return b}var ca=/:(80|443)$/,E=document.createElement("a"),F={};
function G(a){a=a&&"."!=a?a:location.href;if(F[a])return F[a];E.href=a;if("."==a.charAt(0)||"/"==a.charAt(0))return G(E.href);var b="80"==E.port||"443"==E.port?"":E.port,b="0"==b?"":b,c=E.host.replace(ca,"");return F[a]={hash:E.hash,host:c,hostname:E.hostname,href:E.href,origin:E.origin?E.origin:E.protocol+"//"+c,pathname:"/"==E.pathname.charAt(0)?E.pathname:"/"+E.pathname,port:b,protocol:E.protocol,search:E.search}}var H=[];
function I(a,b){var c=this;this.context=a;this.u=b;this.h=(this.g=/Task$/.test(b))?a.get(b):a[b];this.a=[];this.b=[];this.i=function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];return c.b[c.b.length-1].apply(null,[].concat(b instanceof Array?b:x(w(b))))};this.g?a.set(b,this.i):a[b]=this.i}function J(a,b){b=a.a.indexOf(b);-1<b&&(a.a.splice(b,1),0<a.a.length?K(a):a.j())}function K(a){a.b=[];for(var b,c=0;b=a.a[c];c++){var d=a.b[c-1]||a.h.bind(a.context);a.b.push(b(d))}}
I.prototype.j=function(){var a=H.indexOf(this);-1<a&&(H.splice(a,1),this.g?this.context.set(this.u,this.h):this.context[this.u]=this.h)};function L(a,b){var c=H.filter(function(c){return c.context==a&&c.u==b})[0];c||(c=new I(a,b),H.push(c));return c}function M(a,b,c,d,e,g){if("function"==typeof d){var f=c.get("buildHitTask");return{buildHitTask:function(c){c.set(a,null,!0);c.set(b,null,!0);d(c,e,g);f(c)}}}return N({},a,b)}
function O(a,b){var c=ba(a),d={};Object.keys(c).forEach(function(a){if(!a.indexOf(b)&&a!=b+"on"){var g=c[a];"true"==g&&(g=!0);"false"==g&&(g=!1);a=da(a.slice(b.length));d[a]=g}});return d}function ea(a){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",function c(){document.removeEventListener("DOMContentLoaded",c);a()}):a()}function fa(a){function b(){c||(c=!0,a())}var c=!1;setTimeout(b,2E3);return b}
var N=Object.assign||function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];for(var d=0,e=c.length;d<e;d++){var g=Object(c[d]),f;for(f in g)Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}return a};function da(a){return a.replace(/[\-\_]+(\w?)/g,function(a,c){return c.toUpperCase()})}
function P(a,b){var c=window.GoogleAnalyticsObject||"ga";window[c]=window[c]||function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];(window[c].q=window[c].q||[]).push(b)};window.gaDevIds=window.gaDevIds||[];0>window.gaDevIds.indexOf("i5iSjo")&&window.gaDevIds.push("i5iSjo");window[c]("provide",a,b);window.gaplugins=window.gaplugins||{};window.gaplugins[a.charAt(0).toUpperCase()+a.slice(1)]=b}var Q={w:1,C:2,A:3,F:4,G:5,B:6,H:7,I:8,J:9,D:10},R=Object.keys(Q).length;
function S(a,b){a.set("\x26_av","2.4.1");var c=a.get("\x26_au"),c=parseInt(c||"0",16).toString(2);if(c.length<R)for(var d=R-c.length;d;)c="0"+c,d--;b=R-b;c=c.substr(0,b)+1+c.substr(b+1);a.set("\x26_au",parseInt(c||"0",2).toString(16))}
function T(a,b){S(a,Q.w);this.a=N({},b);this.i=a;this.b=this.a.stripQuery&&this.a.queryDimensionIndex?"dimension"+this.a.queryDimensionIndex:null;this.h=this.h.bind(this);this.g=this.g.bind(this);b=this.h;var c=L(a,"get");c.a.push(b);K(c);b=this.g;a=L(a,"buildHitTask");a.a.push(b);K(a)}T.prototype.h=function(a){var b=this;return function(c){if("page"==c||c==b.b){var d={location:a("location"),page:a("page")};return U(b,d)[c]}return a(c)}};
T.prototype.g=function(a){var b=this;return function(c){var d=U(b,{location:c.get("location"),page:c.get("page")});c.set(d,null,!0);a(c)}};
function U(a,b){var c=G(b.page||b.location),d=c.pathname;if(a.a.indexFilename){var e=d.split("/");a.a.indexFilename==e[e.length-1]&&(e[e.length-1]="",d=e.join("/"))}"remove"==a.a.trailingSlash?d=d.replace(/\/+$/,""):"add"==a.a.trailingSlash&&(/\.\w+$/.test(d)||"/"==d.substr(-1)||(d+="/"));d={page:d+(a.a.stripQuery?ha(a,c.search):c.search)};b.location&&(d.location=b.location);a.b&&(d[a.b]=c.search.slice(1)||"(not set)");return"function"==typeof a.a.urlFieldsFilter?(b=a.a.urlFieldsFilter(d,G),c={page:b.page,
location:b.location},a.b&&(c[a.b]=b[a.b]),c):d}function ha(a,b){if(Array.isArray(a.a.queryParamsWhitelist)){var c=[];b.slice(1).split("\x26").forEach(function(b){var d=w(b.split("\x3d"));b=d.next().value;d=d.next().value;-1<a.a.queryParamsWhitelist.indexOf(b)&&d&&c.push([b,d])});return c.length?"?"+c.map(function(a){return a.join("\x3d")}).join("\x26"):""}return""}T.prototype.remove=function(){var a=this.h;J(L(this.i,"get"),a);a=this.g;J(L(this.i,"buildHitTask"),a)};P("cleanUrlTracker",T);
function V(a,b){var c=this;S(a,Q.A);window.IntersectionObserver&&window.MutationObserver&&(this.a=N({rootMargin:"0px",fieldsObj:{},attributePrefix:"ga-"},b),this.g=a,this.o=this.o.bind(this),this.s=this.s.bind(this),this.l=this.l.bind(this),this.m=this.m.bind(this),this.b=null,this.items=[],this.f={},this.c={},ea(function(){c.a.elements&&c.observeElements(c.a.elements)}))}h=V.prototype;
h.observeElements=function(a){var b=this;a=W(this,a);this.items=this.items.concat(a.items);this.f=N({},a.f,this.f);this.c=N({},a.c,this.c);a.items.forEach(function(a){var c=b.c[a.threshold]=b.c[a.threshold]||new IntersectionObserver(b.s,{rootMargin:b.a.rootMargin,threshold:[+a.threshold]});(a=b.f[a.id]||(b.f[a.id]=document.getElementById(a.id)))&&c.observe(a)});this.b||(this.b=new MutationObserver(this.o),this.b.observe(document.body,{childList:!0,subtree:!0}));requestAnimationFrame(function(){})};
h.unobserveElements=function(a){var b=[],c=[];this.items.forEach(function(d){a.some(function(a){a=X(a);return a.id===d.id&&a.threshold===d.threshold&&a.trackFirstImpressionOnly===d.trackFirstImpressionOnly})?c.push(d):b.push(d)});if(b.length){var d=W(this,b),e=W(this,c);this.items=d.items;this.f=d.f;this.c=d.c;c.forEach(function(a){if(!d.f[a.id]){var b=e.c[a.threshold],c=e.f[a.id];c&&b.unobserve(c);d.c[a.threshold]||e.c[a.threshold].disconnect()}})}else this.unobserveAllElements()};
h.unobserveAllElements=function(){var a=this;Object.keys(this.c).forEach(function(b){a.c[b].disconnect()});this.b.disconnect();this.b=null;this.items=[];this.f={};this.c={}};function W(a,b){var c=[],d={},e={};b.length&&b.forEach(function(b){b=X(b);c.push(b);e[b.id]=a.f[b.id]||null;d[b.threshold]=a.c[b.threshold]||null});return{items:c,f:e,c:d}}h.o=function(a){for(var b=0,c;c=a[b];b++){for(var d=0,e;e=c.removedNodes[d];d++)Y(this,e,this.m);for(d=0;e=c.addedNodes[d];d++)Y(this,e,this.l)}};
function Y(a,b,c){1==b.nodeType&&b.id in a.f&&c(b.id);for(var d=0,e;e=b.childNodes[d];d++)Y(a,e,c)}
h.s=function(a){for(var b=[],c=0,d;d=a[c];c++)for(var e=0,g;g=this.items[e];e++){var f;if(f=d.target.id===g.id)(f=g.threshold)?f=d.intersectionRatio>=f:(f=d.intersectionRect,f=0<f.top||0<f.bottom||0<f.left||0<f.right);if(f){var m=g.id;f=document.getElementById(m);var m={transport:"beacon",eventCategory:"Viewport",eventAction:"impression",eventLabel:m,nonInteraction:!0},aa=N({},this.a.fieldsObj,O(f,this.a.attributePrefix));this.g.send("event",M(m,aa,this.g,this.a.hitFilter,f));g.trackFirstImpressionOnly&&
b.push(g)}}b.length&&this.unobserveElements(b)};h.l=function(a){var b=this,c=this.f[a]=document.getElementById(a);this.items.forEach(function(d){a==d.id&&b.c[d.threshold].observe(c)})};h.m=function(a){var b=this,c=this.f[a];this.items.forEach(function(d){a==d.id&&b.c[d.threshold].unobserve(c)});this.f[a]=null};h.remove=function(){this.unobserveAllElements()};P("impressionTracker",V);function X(a){"string"==typeof a&&(a={id:a});return N({threshold:0,trackFirstImpressionOnly:!0},a)}
function Z(a,b){var c=this;S(a,Q.B);window.addEventListener&&(this.a=N({events:["click"],linkSelector:"a, area",shouldTrackOutboundLink:this.shouldTrackOutboundLink,fieldsObj:{},attributePrefix:"ga-"},b),this.b=a,this.h=this.h.bind(this),this.g={},this.a.events.forEach(function(a){c.g[a]=D(a,c.a.linkSelector,c.h)}))}
Z.prototype.h=function(a,b){var c=this;if(this.a.shouldTrackOutboundLink(b,G)){var d=b.getAttribute("href")||b.getAttribute("xlink:href"),e=G(d),e={transport:"beacon",eventCategory:"Outbound Link",eventAction:a.type,eventLabel:e.href},g=N({},this.a.fieldsObj,O(b,this.a.attributePrefix)),f=M(e,g,this.b,this.a.hitFilter,b,a);if(navigator.sendBeacon||"click"!=a.type||"_blank"==b.target||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey||1<a.which)this.b.send("event",f);else{var m=function(){window.removeEventListener("click",
m);if(!a.defaultPrevented){a.preventDefault();var b=f.hitCallback;f.hitCallback=fa(function(){"function"==typeof b&&b();location.href=d})}c.b.send("event",f)};window.addEventListener("click",m)}}};Z.prototype.shouldTrackOutboundLink=function(a,b){a=a.getAttribute("href")||a.getAttribute("xlink:href");b=b(a);return b.hostname!=location.hostname&&"http"==b.protocol.slice(0,4)};Z.prototype.remove=function(){var a=this;Object.keys(this.g).forEach(function(b){a.g[b].j()})};P("outboundLinkTracker",Z);})();
//# sourceMappingURL=autotrac.js.map